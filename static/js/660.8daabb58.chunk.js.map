{"version":3,"file":"static/js/660.8daabb58.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/CarItem/CarItem.module.css?0d12","components/CarItem/CarItem.jsx","webpack://react-homework-template/./src/components/CarsList/CarsList.module.css?2bf5","components/CarsList/CarsList.jsx","services/api.js","webpack://react-homework-template/./src/views/Catalog/Catalog.module.css?9428","webpack://react-homework-template/./src/components/Modal/Modal.module.css?28d7","components/Modal/Modal.jsx","views/Catalog/Catalog.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"text\":\"CarItem_text__Eylct\",\"img\":\"CarItem_img__6EGKY\",\"link\":\"CarItem_link__Y-LRU\",\"item\":\"CarItem_item__EKxTS\",\"container\":\"CarItem_container__Ntwde\",\"cardHead\":\"CarItem_cardHead__X7+3Q\",\"btn\":\"CarItem_btn__Q74D8\"};","import { useLocation } from 'react-router-dom';\nimport css from \"./CarItem.module.css\";\n\nconst CarItem = ( { car }) => {\n    const {\n        model,\n        year,\n        rentalPrice,\n        rentalCompany,\n        img,\n        type,\n        description,\n        engineSize,\n        fuelConsumption,\n        id,\n        mileage,\n        make,\n    } = car;\n\n    const location = useLocation();\n    const pathName = location.pathname.includes('/catalog') ? '' : 'catalog/';\n\n    return (\n    <div className={css.container}>\n        <div className={css.link} to={`${pathName}${id}`} state={{ from: location }}>\n        <img className={css.img} src={img} width=\"274\" height=\"268\" alt={description}></img>\n        <ul className={css.cardHead}>\n        <li>{model} {year}</li>\n        <li>{rentalPrice}</li>\n        </ul>\n        <ul className={css.item}>\n            <li>{rentalCompany}</li>\n            <li>{type}</li>\n            <li>{engineSize}</li>\n            <li>{fuelConsumption}</li>\n            <li>{mileage}</li>\n            <li>{make}</li>\n        </ul>\n        {/* <h2 className={css.text}>{model}</h2> */}\n        {/* <p>{rentalPrice}</p>\n        <p>{year}</p>\n        <p>{rentalCompany}</p>\n        <p>{address}</p>\n        <p>{type}</p> */}\n        </div>\n        <button className={css.btn}>Learn More</button>\n    </div>\n    );\n}\n\nexport default CarItem;","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"CarsList_item__UxzUF\"};","import CarItem from \"components/CarItem/CarItem\";\nimport css from \"./CarsList.module.css\"\n\nconst CarsList = ({ cars }) => {\n    return(\n        <li className={css.item}>\n            {cars.map(car => {\n                return <CarItem key={car.id} car={car} />;\n            })}\n        </li>\n    )\n}\n\nexport default CarsList;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://649ade98bf7c145d0239a19c.mockapi.io';\n\nexport const getAllCars = async (page) => {\n    const { data } = await axios.get('/Advert'); \n    return data;\n  };","// extracted by mini-css-extract-plugin\nexport default {\"name\":\"Catalog_name__LlyDX\",\"list\":\"Catalog_list__SGi9+\"};","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"Modal_overlay__r63M6\",\"modal\":\"Modal_modal__DJDMv\"};","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport css from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  \n    useEffect(() => {\n      window.addEventListener('keydown', handleEscape);\n  \n      return () => {\n        window.removeEventListener('keydown', handleEscape);\n      }\n    })\n  \n    const handleEscape = e => {\n      if (e.code === 'Escape') {\n        onClose();\n        document.body.style.overflow = 'visible';\n      }\n    };\n  \n    const handleBackdropClick = e => {\n      if (e.currentTarget === e.target) {\n        onClose();\n        document.body.style.overflow = 'visible';\n      }\n    };\n\n    document.body.style.overflow = 'hidden';\n      \n      return createPortal(\n        <div className={css.overlay} onClick={handleBackdropClick}>\n          <div className={css.modal}>\n            {children}\n          </div>\n        </div>,\n        modalRoot\n      );\n    \n  }\n  \n  Modal.propTypes = {\n    largeImageURL: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };","import { Loader } from 'components/Loader/Loader';\nimport CarsList from 'components/CarsList/CarsList';\nimport { useEffect, useState } from 'react';\nimport { getAllCars } from 'services/api';\nimport css from \"./Catalog.module.css\"\nimport Modal from 'components/Modal/Modal';\n\nconst Catalog = () => {\n  const [allCars, setAllCars] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    const fetchAllCars = async () => {\n      try {\n        setLoading(true);\n        const result = await getAllCars();\n        setAllCars([...result]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAllCars();\n  }, []);\n\n  const toggleModal = () => {\n    setShowModal(showModal => !showModal);\n\n  };\n\n  return (\n    <>\n      <h1 className={css.name}>Catalog rental cars</h1>\n      <ul className={css.list}>\n        <CarsList cars={allCars} />\n      </ul>\n\n      {showModal && (\n        <Modal \n        onClose={toggleModal} />\n      )}\n\n      {loading && <Loader />}\n      {error && <h1>Something went wrong...</h1>}\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["car","model","year","rentalPrice","rentalCompany","img","type","description","engineSize","fuelConsumption","id","mileage","make","location","useLocation","pathName","pathname","includes","className","css","to","state","from","src","width","height","alt","cars","map","axios","getAllCars","page","data","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleEscape","removeEventListener","e","code","body","style","overflow","createPortal","onClick","currentTarget","target","useState","allCars","setAllCars","loading","setLoading","error","setError","showModal","setShowModal","fetchAllCars","result","message","Loader"],"sourceRoot":""}
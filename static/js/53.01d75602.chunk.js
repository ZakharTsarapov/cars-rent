"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[53],{53:function(e,n,r){r.r(n),r.d(n,{default:function(){return z}});var s=r(433),t=r(861),a=r(439),i=r(757),l=r.n(i),c=r(414),o=r(689),d=r(791),u="CarItem_img__6EGKY",h="CarItem_link__Y-LRU",m="CarItem_item__EKxTS",x="CarItem_container__Ntwde",j="CarItem_cardHead__X7+3Q",p="CarItem_btn__Q74D8",_=r(164),f="Modal_overlay__r63M6",v="Modal_modal__DJDMv",g=r(184),C=document.querySelector("#modal-root");function w(e){var n=e.onClose,r=e.children;(0,d.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&(n(),document.body.style.overflow="visible")};return document.body.style.overflow="hidden",(0,_.createPortal)((0,g.jsx)("div",{className:f,onClick:function(e){e.currentTarget===e.target&&(n(),document.body.style.overflow="visible")},children:(0,g.jsx)("div",{className:v,children:r})}),C)}var y="CarDetails_modalContainer__J2eyM",b="CarDetails_carImage__nQf5D",k="CarDetails_svg__ITNUT",N="CarDetails_closeBtn__1CZjM";var S=r.p+"static/media/sprite.c44a96f24e6b6014bd950d179eb66975.svg",M=function(e){var n=e.car,r=e.toggleModal,s=n.id,t=n.year,a=n.make,i=n.model,l=n.type,c=n.img,o=n.description,d=n.fuelConsumption,u=n.engineSize,h=n.rentalPrice,m=n.address,x=n.rentalConditions,j=n.mileage,p=m.split(", ")[1],_=m.split(", ")[2],f=x.split("\n")[0].split(": ");var v=function(e){var n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}(j);return(0,g.jsxs)("div",{className:y,children:[(0,g.jsx)("button",{className:N,type:"button",onClick:r,children:(0,g.jsx)("svg",{className:k,children:(0,g.jsx)("use",{href:"".concat(S,"#icon-x-close")})})}),(0,g.jsx)("div",{children:(0,g.jsx)("img",{className:b,src:c,alt:"".concat(a," ").concat(i)})}),(0,g.jsx)("div",{children:(0,g.jsxs)("p",{children:[a," ",(0,g.jsx)("span",{children:i}),", ",t," "]})}),(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{children:p}),(0,g.jsx)("li",{children:_}),(0,g.jsxs)("li",{children:["Id: ",s]}),(0,g.jsxs)("li",{children:["Year: ",t]}),(0,g.jsxs)("li",{children:["Type: ",l]})]}),(0,g.jsxs)("ul",{children:[(0,g.jsxs)("li",{children:["Fuel Consumption: ",d]}),(0,g.jsxs)("li",{children:["Engine Size: ",u]})]}),(0,g.jsx)("p",{children:o}),(0,g.jsx)("p",{children:"Rental Conditions:"}),(0,g.jsxs)("ul",{children:[(0,g.jsxs)("li",{children:[f[0],":","",(0,g.jsx)("span",{children:f[1]})]}),(0,g.jsxs)("li",{children:["Mileage: ",(0,g.jsx)("span",{children:v})]}),(0,g.jsxs)("li",{children:["Price: ",(0,g.jsx)("span",{children:h})]})]}),(0,g.jsx)("a",{href:"tel:+380730000000",children:"Rental Car"})]})},Z=function(e){var n=e.car,r=(0,d.useState)(!1),s=(0,a.Z)(r,2),t=s[0],i=s[1],l=function(){return i((function(e){return!e}))},c=n.model,_=n.year,f=n.rentalPrice,v=n.rentalCompany,C=n.img,y=n.type,b=n.description,k=n.engineSize,N=n.fuelConsumption,S=n.id,Z=n.mileage,D=n.make,I=(0,o.TH)(),E=I.pathname.includes("/catalog")?"":"catalog/";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{className:h,to:"".concat(E).concat(S),state:{from:I},children:[(0,g.jsx)("img",{className:u,src:C,width:"274",height:"268",alt:b}),(0,g.jsxs)("ul",{className:j,children:[(0,g.jsxs)("li",{children:[c," ",_]}),(0,g.jsx)("li",{children:f})]}),(0,g.jsxs)("ul",{className:m,children:[(0,g.jsx)("li",{children:v}),(0,g.jsx)("li",{children:y}),(0,g.jsx)("li",{children:k}),(0,g.jsx)("li",{children:N}),(0,g.jsx)("li",{children:Z}),(0,g.jsx)("li",{children:D})]})]}),(0,g.jsx)("button",{type:"button",className:p,onClick:l,children:"Learn More"})]}),t&&(0,g.jsx)(w,{onClose:l,showModal:t,children:(0,g.jsx)(M,{car:n,toggleModal:l})})]})},D="CarsList_item__UxzUF",I=function(e){var n=e.cars;return(0,g.jsx)("li",{className:D,children:n.map((function(e){return(0,g.jsx)(Z,{car:e},e.id)}))})},E=r(243);E.Z.defaults.baseURL="https://649ade98bf7c145d0239a19c.mockapi.io";var L=function(){var e=(0,t.Z)(l().mark((function e(n){var r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.get("/Advert");case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T="Catalog_name__LlyDX",U="Catalog_list__SGi9+",z=function(){var e=(0,d.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,d.useState)(!1),u=(0,a.Z)(o,2),h=u[0],m=u[1],x=(0,d.useState)(null),j=(0,a.Z)(x,2),p=j[0],_=j[1];return(0,d.useEffect)((function(){var e=function(){var e=(0,t.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,L();case 4:n=e.sent,i((0,s.Z)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0.message);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{className:T,children:"Catalog rental cars"}),(0,g.jsx)("ul",{className:U,children:(0,g.jsx)(I,{cars:r})}),h&&(0,g.jsx)(c.a,{}),p&&(0,g.jsx)("h1",{children:"Something went wrong..."})]})}}}]);
//# sourceMappingURL=53.01d75602.chunk.js.map